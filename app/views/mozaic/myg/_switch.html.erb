<% class_name = options.delete :class_name %>
<% attribute = options.delete :attribute %>
<% values = options.delete(:values) || [0, 1] %>
<% name = class_name ? "#{class_name.to_s.downcase}[#{attribute}]" : "#{attribute}" %>
<% id = class_name ? "#{class_name.to_s.downcase}_#{attribute}" : "#{attribute}" %>
<% wrapper_html = {
    class: ['myg-switch mdc-switch', options.dig(:wrapper_html, :class)].join(' ')
} %>
<% html = {
    type: 'checkbox',
    class: ['mdc-switch__native-control', options.dig(:html, :class)].join(' '),
    name: name,
    id: id,
    value: values.last
} %>

<%= content_tag 'div', (options[:wrapper_html] || {}).merge(wrapper_html) do %>
    <input value="<%= values.first %>" type="hidden" name="<%= name %>" />
    <%= tag 'input', (options[:html] || {}).merge(html) %>
    <div class="mdc-switch__background">
        <div class="mdc-switch__knob"></div>
    </div>
<% end %>
